<!DOCTYPE html>
<html lang="fr">
	<head>
		<title>TODO - les demandes improbables de Mipel</title>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<style>
			.question {}
			.answer {
				color: #555;
				font-style: italic;
			}
		</style>
	</head>
	<body>
		<section>
			<header>
				<h1>La Dingo Liste</h1>
			</header>
			<article>
				<header>
					<h2>CODE</h2>
				</header>
				<div class="question">
					<strong>Mipel : </strong>
					<span>maj vers 5.2 -- adapation de class mais lesquelles ?</span>
				</div>
				<div class="answer">
					<strong>babso : </strong>
					<span>revoir tout ce qui concerne les commentaires, mais comme je n'ai pas essayé, il peut y avoir d'autres problèmes</span>
				</div>
			</article>

			<article>
				<header>
					<h2>FONCTIONNALITES</h2>
				</header>
				<div class="question">
					<strong>Mipel : </strong>
					<ul>
						<li>1 - si type annonce = location (pourquoi pas ?) il faudrait pouvoir accéder à des champs comme la durée, le prix à l'heure/jour/semaine...</li>
						<li>2 - de manière générale, il faudrait aussi que certains champs soient interactifs. ex: si don, pas besoin du champ prix ... you now what ?</li>
						<li>3 - afficher lien vers email + téléphone ... </li>
					</ul>
				</div>
				<div class="answer">
					<strong>babso : </strong>
					<ul>
						<li>1 - ce n'est guerre possible en module généraliste, il faudrait fixer les types d'annonce en base de données pour pouvoir configurer plusieurs types de formulaire en fonction du type d'annonce appelé, et on ne peut pas savoir ce que le propriétaire du site va proposer</li>
						<li>2 - pareil que pour 1 - les types d'annonces sont déterminés aléatoirement par le propriétaire, impossible de prévoir ce qu'il va mettre donc pas de références pour savoir quel type d'annonce est appelé</li>
						<li>3 -  vu sur discord + soumettre l'idée à l'équipe : critères de contact affichés aux visiteurs ou seulement aux connectés</li>
					</ul>
				</div>
			</article>

			<article>
				<header>
					<h2>GRAPHISME</h2>
				</header>
				<div class="question">
					<strong>Mipel : </strong>
					<ul>
						<li>1 - commencé, pas commencé ?</li>
						<li>2 - organisation des pages de conf</li>
						<li>3 - compactage des infos</li>
						<li>4 - bouton de validation fixe par rapport au scoll de la page</li>
					</ul>
				</div>
				<div class="answer">
					<strong>babso : </strong>
					<ul>
						<li>1 - module prêt pour le thème base et ses enfants</li>
						<li>2 - </li>
						<li>3 - réduire les padding/margin des classes css dans le css du module</li>
						<li>4 - mettre la classe #smallads_module .fieldset-submit en position:fixed + valeur de positionnement top/left/right... dans le css du module</li>
					</ul>
				</div>
			</article>

			<article>
				<header>
					<h2>MENU LISTE DES CATEGORIES</h2>
				</header>
				<div class="question">
					<strong>babso : </strong>
					<ul>
						<li>Fichier : templates\SmalladsDisplayCategoryController.tpl</li>
						<li>HTML : lignes 11 à 22</li>
						<li>Javascript : lignes 257 à 275</li>
					</ul>
					<p>Bug : tous les éléments de la liste issus du php (START categories < li < END categories) appraissent rapidement puis disparaissent</p>
					<p>Le code javascript fonctionnant seul et sans problème à <a href="https://jsfiddle.net/babsolune/u4obwLkj/86/">cette adresse jsfiddle</a>, j'ai plein d'hypothèses :
						<ul>
							<li>Il entre en conflit avec le js des types d'annonce/pagination</li>
							<li>Il entre en conflit avec le js de phpboost (global.js)</li>
							<li>Il ne veut pas de la boucle php qui envoie la liste des items</li>
							<li>Il part boire un café parce que c'est l'heure de la pause, et à la machine à café il rencontre une jolie pépée et + si affinités</li>
							<li>hypothèse de la solution mais pas encore trouvée</li>
						</ul>
					</p>
					<p>Fonctionnement théorique du js :
						<ul>
							<li>1 - On crée la liste à insérer dans la balise nav puis on supprime la liste originale brute</li>
							<li>
								2 - Fonction qui liste tous les éléments qui sont succeptibles d'être un parent en fonction de l'id défini dans le data 'cat_id' et on les ordonne selon l'ordre donné par c_order
								<ul>
									<li>On envoie la liste des enfants dans le parent</li>
									<li>On sort de la boucle le cat_id 0</li>
								</ul>
							</li>
							<li>3 - On ajoute la class 'has-sub' à tous les li qui contiennent un ul</li>
						</ul>
					</p>
				</div>
				<div class="answer">
					<strong></strong>
				</div>
			</article>

			<article>
				<header>
					<h2>MENU LISTE DES CATEGORIES</h2>
				</header>
				<div class="question">
					<strong>mipel : </strong>
					<p>que deviennent les infos qui existent dans certains champs de smallads mais qui ne sont pas reprises dans la nouvelle version comme shipping, approved, links_flag ou vid ?</p>
				</div>
				<div class="answer">
					<strong>babso: </strong>

					<h3>Anciens champs</h3>
					<table>
						<thead>
							<tr>
								<th>Ancienne</th>
								<th>Nouvelle</th>
								<th>Description</th>
								<th>Action</th>
								<th>Commentaires</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>id</td>
								<td>id</td>
								<td>identifiant primaire</td>
								<td>idem</td>
								<td>-</td>
							</tr>
							<tr>
								<td>cat_id</td>
								<td>id_category</td>
								<td>identifiant de catégorie</td>
								<td>idem</td>
								<td>-</td>
							</tr>
							<tr>
								<td>title</td>
								<td>title</td>
								<td>Titre</td>
								<td>idem</td>
								<td>-</td>
							</tr>
							<tr>
								<td>contents</td>
								<td>contents</td>
								<td>Description de l'annonce</td>
								<td>idem</td>
								<td>-</td>
							</tr>
							<tr>
								<td>picture</td>
								<td>thumbnail_url</td>
								<td>image vignette</td>
								<td>idem</td>
								<td>-</td>
							</tr>
							<tr>
								<td>id_created</td>
								<td>author_user_id</td>
								<td>identifiant de l'auteur</td>
								<td>idem</td>
								<td>-</td>
							</tr>
							<tr>
								<td>date_created</td>
								<td>creation_date</td>
								<td>date de création</td>
								<td>idem</td>
								<td>-</td>
							</tr>
							<tr>
								<td>type</td>
								<td>smallad_type</td>
								<td>type d'annonce</td>
								<td>idem</td>
								<td>-</td>
							</tr>
							<tr>
								<td>price</td>
								<td>price</td>
								<td>Prix</td>
								<td>idem</td>
								<td>-</td>
							</tr>
							<tr>
								<td>shipping</td>
								<td>-</td>
								<td>frais de port</td>
								<td>suppression</td>
								<td>On peut débattre sur l'utilité mais perso = pas utile + se discute entre acheteur et le vendeur + pas vu sur d'autres sites d'annonces</td>
							</tr>
							<tr>
								<td>approved</td>
								<td>published</td>
								<td>publication de l'annonce</td>
								<td>boolean -> integer</td>
								<td>-</td>
							</tr>
							<tr>
								<td>date_approved</td>
								<td>-</td>
								<td>Date réelle de publication</td>
								<td>suppression</td>
								<td>Sert à calculer le temps entre la publication et la fin de publication (max_week). Dans le new module, on se sert de la date de création et de toute façon ça ne passe pas par la contribution donc date_approved = date_created</td>
							</tr>
							<tr>
								<td>id_updated</td>
								<td>-</td>
								<td>compteur d'éditions</td>
								<td>suppression</td>
								<td>-</td>
							</tr>
							<tr>
								<td>date_updated</td>
								<td>updated_date</td>
								<td>date de dernière édition</td>
								<td>idem</td>
								<td>-</td>
							</tr>
							<tr>
								<td>links_flag</td>
								<td>displayed_author_email/displayed_author_pm/displayed_author_phone</td>
								<td>condition d'affichage mail/mp par le contributeur</td>
								<td>integer -> boolean*3</td>
								<td>Pas sur que ce soit simple à transposer ça ^^ . on passe d'un entier, compteur de 2 booléens, à 3 booléens (telephone en plus)</td>
							</tr>
							<tr>
								<td>vid</td>
								<td>-</td>
								<td>-</td>
								<td>suppression</td>
								<td>De ce que j'ai compris : rien, reste à zero quelque soit l'action (modification par membre/admin) :) en le forçant à 1 en bdd on obtient "contribution de modification de l'annonce" ça veut tout et rien dire, pas réussi à le faire autrement que par la bdd ??? bref ... obsolète</td>
							</tr>
							<tr>
								<td>max_weeks</td>
								<td>max_weeks</td>
								<td>nb de semaine de publication</td>
								<td>idem</td>
								<td>-</td>
							</tr>
							<tr>
								<td></td>
								<td></td>
								<td></td>
								<td>idem</td>
								<td>-</td>
							</tr>
						</tbody>
					</table>

					<h3>Champs en plus</h3>
					<table>
						<thead>
							<tr>
								<th>Nom du champ</th>
								<th>Description</th>
								<th>Action</th>
								<th>Commentaires</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>rewrited_title</td>
								<td>réécriture du titre pour l'url</td>
								<td>string/250</td>
								<td>-</td>
							</tr>
							<tr>
								<td>description</td>
								<td>Résumé de la description pour la page catégorie</td>
								<td>text/65000</td>
								<td>-</td>
							</tr>
							<tr>
								<td>brand</td>
								<td>Marque</td>
								<td>string/255</td>
								<td>Fonction cachée - sert à ajouter des marques pour un tri par marques (même modèle que pour le smallad_type). Implémenté mais commenté dans les différents fichiers si le proprio du site en a besoin.</td>
							</tr>
							<tr>
								<td>sold</td>
								<td>déclaration de fin d'annonce par l'auteur (vendu/donné/...)</td>
								<td>boolean</td>
								<td>-</td>
							</tr>
							<tr>
								<td>location</td>
								<td>Situation géographique du vendeur</td>
								<td>text/65000</td>
								<td>Pas encore mis en place - débat si nécessaire (perso = oui) - On peut faire comme pour brand, l'implémenter mais le commenter pour une utilisation plus facile- voire mettre une option dans la config pour l'utiliser ou pas dans le module - Pour l'instant je n'ai prévu que de déclarer les départements mais on peut se servir de GoogleMaps</td>
							</tr>
							<tr>
								<td>views_number</td>
								<td>Compteur de nombre de vues</td>
								<td>integer/11</td>
								<td>-</td>
							</tr>
							<tr>
								<td>custom_author_email</td>
								<td>Possibilité de modifier l'email de l'auteur</td>
								<td>string/255</td>
								<td>-</td>
							</tr>
							<tr>
								<td>display_author_name</td>
								<td>affichage du nom de l'auteur</td>
								<td>boolean</td>
								<td>-</td>
							</tr>
							<tr>
								<td>custom_author_name</td>
								<td>Possibilité de modifier le nom de l'auteur</td>
								<td>string/255</td>
								<td>-</td>
							</tr>
							<tr>
								<td>author_phone</td>
								<td>N° de tel de l'auteur</td>
								<td>string/25</td>
								<td></td>
							</tr>
							<tr>
								<td>publication_start_date</td>
								<td>Publication différée - début de publication</td>
								<td>integer/11</td>
								<td>-</td>
							</tr>
							<tr>
								<td>publication_end_date</td>
								<td>Publication différée - fin de publication</td>
								<td>integer/11</td>
								<td>-</td>
							</tr>
							<tr>
								<td>sources</td>
								<td>Liens vers d'autres sites</td>
								<td>text/65000</td>
								<td>-</td>
							</tr>
							<tr>
								<td>carousel</td>
								<td>Ajout d'autres images</td>
								<td>text/65000</td>
								<td>-</td>
							</tr>
						</tbody>
					</table>
				</div>
			</article>
			<footer></footer>
		</section>
	</body>
</html>
